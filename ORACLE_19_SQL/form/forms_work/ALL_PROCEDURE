CREATE OR REPLACE PROCEDURE INSERT_NEW_DEPARTMENT
( P_DEPARTMENT_NAME   IN VARCHAR2(100),
P_DESCRIPTION   IN VARCHAR2(100), 
P_STATUS IN VARCHAR2(100))
IS
BEGIN
	INSERT INTO DEPARTMENTS(DEPARTMENT_NAME,DESCRIPTION,STATUS )
	VALUES(P_DEPARTMENT_NAME ,P_DESCRIPTION,
P_STATUS);
COMMIT;
END;


CREATE OR REPLACE PROCEDURE INSERT_NEW_EMPLOYEE (
    P_FIRST_NAME          IN VARCHAR2,
    P_LAST_NAME           IN VARCHAR2,
    P_FATHER_NAME         IN VARCHAR2 DEFAULT NULL,
    P_MOTHER_NAME         IN VARCHAR2 DEFAULT NULL,
    P_PRESENT_ADDRESS     IN VARCHAR2 DEFAULT NULL,
    P_PERMANENT_ADDRESS   IN VARCHAR2 DEFAULT NULL,
    P_SALARY              IN NUMBER   DEFAULT NULL,
    P_JOIN_DATE           IN DATE     DEFAULT NULL,
    P_DATE_OF_BIRTH       IN DATE     DEFAULT NULL,
    P_NID                 IN NUMBER   DEFAULT NULL,
    P_EMAIL               IN VARCHAR2 DEFAULT NULL,
    P_CONTACT_NO          IN VARCHAR2 DEFAULT NULL,
    P_GENDER              IN VARCHAR2 DEFAULT NULL,
    P_RELIGION            IN VARCHAR2 DEFAULT NULL,
    P_NATIONALITY         IN VARCHAR2 DEFAULT NULL,
    P_BLOOD_GROUP         IN VARCHAR2 DEFAULT NULL,
    P_DESIGNATION_ID      IN NUMBER,
    P_DEPARTMENT_ID       IN NUMBER,
    P_EMPLOYEE_STATUS     IN VARCHAR2 DEFAULT 'ACTIVE',
    P_EMPLOYEE_DESCRIPTION IN VARCHAR2 DEFAULT NULL,
    P_ACTION_USER         IN VARCHAR2
)
IS
BEGIN
    INSERT INTO EMPLOYEES (
        EMPLOYEE_ID,
        FIRST_NAME,
        LAST_NAME,
        FATHER_NAME,
        MOTHER_NAME,
        PRESENT_ADDRESS,
        PERMANENT_ADDRESS,
        SALARY,
        JOIN_DATE,
        DATE_OF_BIRTH,
        NID,
        EMAIL,
        CONTACT_NO,
        GENDER,
        RELIGION,
        NATIONALITY,
        BLOOD_GROUP,
        DESIGNATION_ID,
        DEPARTMENT_ID,
        EMPLOYEE_STATUS,
        EMPLOYEE_DESCRIPTION,
        ACTION_USER,
        ACTION_DATE_TIME
    )
    VALUES (
        EMPLOYEE_ID_SEQ.NEXTVAL,
        P_FIRST_NAME,
        P_LAST_NAME,
        P_FATHER_NAME,
        P_MOTHER_NAME,
        P_PRESENT_ADDRESS,
        P_PERMANENT_ADDRESS,
        P_SALARY,
        P_JOIN_DATE,
        P_DATE_OF_BIRTH,
        P_NID,
        P_EMAIL,
        P_CONTACT_NO,
        P_GENDER,
        P_RELIGION,
        P_NATIONALITY,
        P_BLOOD_GROUP,
        P_DESIGNATION_ID,
        P_DEPARTMENT_ID,
        NVL(P_EMPLOYEE_STATUS, 'ACTIVE'),
        P_EMPLOYEE_DESCRIPTION,
        P_ACTION_USER,
        SYSDATE
    );

    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE_APPLICATION_ERROR(-20001, 'Error inserting employee: ' || SQLERRM);
END;
/
