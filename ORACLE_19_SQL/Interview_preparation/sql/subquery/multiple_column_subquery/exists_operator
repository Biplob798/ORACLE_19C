
-- The EXISTS operator is used to test for the existence of any record in a subquery. If the subquery returns at least one row, it returns TRUE. It is highly efficient because it stops searching as soon as a match is found.

-- Example: Find all departments that have at least one employee.




SELECT department_name
FROM departments d
WHERE EXISTS (SELECT 1 FROM employees e WHERE e.department_id = d.department_id);









SELECT employee_id, last_name, job_id, department_id
FROM employees outer
WHERE EXISTS ( SELECT NULL
FROM employees
WHERE manager_id =
outer.employee_id);



-- Find All Departments

-- That Do Not Have Any Employees

SELECT department_id, department_name
FROM departments d
WHERE NOT EXISTS (SELECT NULL
FROM employees

That Do Not Have Any Employees

WHERE department_id = d.department_id);






-- A NOT IN construct can be used as an alternative for a NOT EXISTS operator, as shown in
-- the following example:

SELECT department_id, department_name
FROM departments
WHERE department_id NOT IN (SELECT department_id
FROM employees);