CREATE OR REPLACE TRIGGER tg_cust_id_auto
BEFORE INSERT ON customer
FOR EACH ROW
DECLARE
    v_cust_id NUMBER;
BEGIN
    SELECT NVL(MAX(customer_id),0) + 1
    INTO v_cust_id
    FROM customer;
    :NEW.customer_id := v_cust_id;
    :NEW.action_user := NVL(V('APP_USER'), USER);
    :NEW.create_date := SYSDATE;
EXCEPTION
    WHEN OTHERS THEN
        RAISE;
END;
/

CREATE OR REPLACE TRIGGER TG_ORDER_ID_AUTO
BEFORE INSERT ON ORDERED
FOR EACH ROW
DECLARE
V_ORDER_ID NUMBER;
BEGIN

SELECT NVL(MAX(ORDER_ID),0)+1 INTO V_ORDER_ID FROM ORDERED;
:NEW.ORDER_ID:=V_ORDER_ID;
END;


CREATE OR REPLACE TRIGGER TG_ORDERED_DETAILS_ID_AUTO
BEFORE INSERT ON ORDERED_DETAILS
FOR EACH ROW
DECLARE
V_ORDERED_ID NUMBER;
BEGIN
SELECT NVL(MAX(ORDERED_DETAILS_ID),0)+1 INTO V_ORDERED_ID FROM ORDERED_DETAILS;
:NEW.ORDERED_DETAILS_ID:=V_ORDERED_ID;
END;